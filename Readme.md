# Задание на доп. сессию по ПМ.02 и ПМ.11

## Критерии оценки

| Модуль | Оценка |
| ------ | ------ |
| 1      | 3      |
| 2      | 4      |
| 3      | 5      |

---

## Модуль 1. Разработка базы данных средствами СУБД

### Задание

Компания «Книжный Мир» занимается розничной и онлайн-продажей книг. Для автоматизации учёта и продаж необходимо разработать систему для управления ассортиментом, заказами и пользователями.

При запуске приложения пользователь видит окно авторизации. Пользователь может:

* войти в систему, введя логин и пароль из базы данных;
* перейти в режим гостя для просмотра каталога книг (без фильтрации, сортировки и поиска).

После авторизации открывается доступ к функционалу в соответствии с ролью:

* **Гость:** просмотр каталога (без фильтрации, сортировки, поиска).
* **Клиент:** просмотр каталога с возможностью поиска по названию и автору.
* **Менеджер:** просмотр каталога (фильтрация, сортировка, поиск), просмотр и обработка заказов.
* **Администратор:** полное управление каталогом (добавление, редактирование, удаление, просмотр с фильтрами), управление заказами (добавление, редактирование, удаление, просмотр), управление пользователями.

### Требования к работе с БД

1. Создать базу данных в выбранной СУБД. Схема должна быть нормализована до 3НФ и обеспечивать ссылочную целостность.
2. Применить согласованную схему именования таблиц и полей; создать необходимые первичные и внешние ключи.
3. Получить ER-диаграмму средствами СУБД или специализированного ПО и предоставить её в формате PDF (таблицы, связи, атрибуты, ключи — типами данных можно пренебречь).
4. Заказчик предоставил исходные данные (Приложение 2). Подготовьте и загрузите данные в БД.
5. Сохранить результаты: SQL-скрипт для развертывания БД с данными или файл конфигурации (.dt для платформы 1С).

### Необходимые приложения

* `Прил_1_ОЗ_КОД 09.02.07-2-2026-M1_Книги.docx`
* `Прил_2_ОЗ_КОД 09.02.07-2-2026-M1_Книги.rar`

---

## Модуль 2. Разработка алгоритма и создание приложения

### Задание

1. Сформировать алгоритм работы приложения в виде блок-схемы по стандарту ГОСТ 19.701-90. Представить в PDF.
2. Обеспечить единый внешний вид всех компонентов согласно руководству по стилю (Приложение 3): заголовки окон должны соответствовать назначению, установить иконку приложения и разместить логотип на главной форме (ресурсы предоставлены).
3. Оформление кода: CamelCase (C#, Java), snake_case (Python) или стандарты 1С. Идентификаторы — понятные; в одной строке — не более одной команды.
4. Подключить созданную базу данных к приложению и реализовать нижеописанный функционал.

### Авторизация

* Реализовать окно входа. После успешной авторизации интерфейс меняется в зависимости от роли (Гость, Клиент, Менеджер, Администратор).
* Реализовать выход в окно авторизации.
* В правом верхнем углу интерфейса отображается ФИО текущего пользователя.

### Каталог книг (интерфейс и поведение)

Для каждой книги отображать:

* обложку (при отсутствии — `placeholder.png` из ресурсов);
* название книги | автор;
* жанр;
* издательство;
* год издания;
* цена;
* количество на складе.

Особые визуальные правила:

* Если книга отсутствует на складе — строка выделена цветом `#ADD8E6` (светло-голубой).
* Если на книгу действует акция (`is_on_sale = true`) — исходная цена перечёркнута и окрашена в красный цвет; рядом показывается акционная цена (`discount_price`) чёрным цветом.

### Отладка и демонстрация

* Модуль должен работать стабильно (без аварийных завершений).
* Создать Word-документ (.docx) со скриншотами, демонстрирующими работу системы: авторизация под разными ролями, отображение каталога и пр.

### Необходимые приложения

* `Прил_3_ОЗ_КОД 09.02.07-2-2026-M2_Стиль.docx`

---

## Модуль 3. Разработка последовательного пользовательского интерфейса.

**Создание форм добавления / редактирования книг. Создание функции удаления книг.**

### Задание (общие требования)

1. Реализовать последовательный пользовательский интерфейс для удобного перемещения между окнами/страницами приложения. На каждом окне установить корректный заголовок. Предусмотреть возможность возврата назад (кнопка «Назад» или аналог).
2. Обработать исключительные ситуации: уведомления об ошибках, запрещённых действиях и неотвратимых операциях. Окна сообщений (ошибка, предупреждение, информация) должны содержать пиктограмму, заголовок и информативный текст с указанием порядка действий для исправления. Допускается использование визуальных подсказок при вводе данных.
3. Комментарии в коде должны пояснять неочевидные фрагменты и присутствовать только там, где это необходимо.

---

### Функционал поиска, фильтрации и сортировки в каталоге

* Для ролей **Менеджер** и **Администратор** реализовать поиск, фильтрацию и сортировку.
* **Поиск:** в реальном времени по всем текстовым полям книги (название, автор, жанр, издательство, описание). Поддержка поиска по нескольким атрибутам одновременно.
* **Сортировка:** по количеству на складе (возрастание/убывание).
* **Фильтрация:** по издательству (поставщику). Первый элемент выпадающего списка — «Все издательства» (сброс фильтра).
* Поиск, сортировка и фильтрация должны работать одновременно и применяться в реальном времени (без кнопки «Найти»). Параметры сортировки сохраняются при применении фильтра и поиска.

---

### Добавление и редактирование книг (только для Администратора)

1. Создать отдельную форму (окно) для добавления и редактирования книги.

   * Переход на форму редактирования — по выбору книги в списке (например, двойной клик или кнопка «Редактировать» для выбранного элемента).
   * Переход на форму добавления — кнопка «Добавить книгу».
2. Поля формы:

   * обложка книги (если отсутствует — `placeholder.png`);
   * название книги;
   * автор;
   * жанр (выпадающий список);
   * издательство (выпадающий список);
   * год издания;
   * описание книги;
   * цена (включая сотые доли);
   * акционная цена (если есть);
   * отметка «акция» (`is_on_sale`);
   * количество на складе.
3. Валидация и ограничения:

   * цена и акционная цена не могут быть отрицательными;
   * количество на складе не может быть отрицательным;
   * год издания — валидное целое число/год.
4. При открытии формы для редактирования поля загружаются из базы.
5. **ID книги:** при добавлении не отображается (автоматически вычисляется как max(id) + 1); при редактировании — доступен только для чтения.
6. После добавления/редактирования данные в списке обновляются автоматически.

---

### Работа с изображениями

* Администратор может добавить или заменить обложку книги.
* Изображение сохраняется в папку приложения; в базе хранится путь к файлу.
* При загрузке изображение автоматически уменьшается до **300×200 пикселей** (ограничение на размер).
* При замене изображения старый файл должен удаляться из папки приложения.

---

### Ограничение на количество открытых форм

* Предусмотреть защиту: не допускать открытия более одного окна редактирования/добавления одновременно (чтобы избежать одновременного редактирования нескольких объектов).

---

### Удаление книг

* Администратор может удалять книги.
* **Ограничение:** книгу, присутствующую хотя бы в одном заказе, удалить нельзя. При попытке удалить такую книгу выводить подробное сообщение-предупреждение с объяснением причины.
* После удаления список должен обновляться автоматически.

### Необходимые приложения

* `Прил_3_ОЗ_КОД 09.02.07-2-2026-M2_Стиль.docx`

