### **Задание на доп сессию по ПМ.02 и ПМ.11**

### Критерии оценки

| Модуль  | Оценка |
| -- | -- |
| 1  | 3  |
| 2  | 4  |
| 3  | 5  |



**Модуль 1. Разработка базы данных средствами СУБД**

**Задание:**

Компания «Книжный Мир» занимается розничной и онлайн-продажей книг. Для автоматизации процессов учета и продаж необходимо разработать систему, которая позволит эффективно управлять ассортиментом, заказами и клиентами.

При запуске приложения пользователь видит окно авторизации. Пользователь может войти в систему, введя логин и пароль из базы данных, или перейти в режим гостя для просмотра каталога книг (без возможности фильтрации, сортировки и поиска).

После успешной авторизации открывается доступ к функционалу в соответствии с ролью:
*   **Гость:** Просмотр каталога книг (без фильтрации, сортировки, поиска).
*   **Клиент:** Просмотр каталога книг (с возможностью поиска по названию и автору).
*   **Менеджер:** Просмотр книг (с фильтрацией, сортировкой, поиском), просмотр и обработка заказов.
*   **Администратор:** Полное управление каталогом книг (добавление, редактирование, удаление, просмотр с фильтрами), управление заказами (добавление, редактирование, удаление, просмотр), управление пользователями.

На основе описания предметной области (**Приложение 1**) необходимо создать базу данных в выбранной СУБД. База данных должна быть нормализована до 3НФ с обеспечением ссылочной целостности. Используйте согласованную схему именования, создайте необходимые первичные и внешние ключи.

Получите ER-диаграмму средствами СУБД или специализированного ПО. Диаграмма должна быть представлена в формате PDF и отображать таблицы, связи между ними, атрибуты и ключи (типами данных можно пренебречь).

Заказчик предоставил файлы с исходными данными (**Приложение 2**) для импорта в новую систему. Подготовьте данные и загрузите их в созданную базу данных.

Сохраните результаты работы: создайте SQL-скрипт для развертывания базы данных с данными или файл конфигурации (.dt для платформы 1С).

**Необходимые приложения:**
*   `Прил_1_ОЗ_КОД 09.02.07-2-2026-M1_Книги.docx`
*   `Прил_2_ОЗ_КОД 09.02.07-2-2026-M1_Книги.rar`

---

**Модуль 2. Разработка алгоритма и создание приложения**

**Задание:**

Сформируйте алгоритм разработки приложения в виде блок-схемы согласно стандарту ГОСТ 19.701-90. Представьте документ в формате PDF.

Все компоненты системы должны иметь единый согласованный внешний вид, соответствующий руководству по стилю (**Приложение 3**). Заголовки окон (страниц) должны соответствовать их назначению. Установите иконку приложения (если это поддерживается платформой) и разместите логотип компании на главной форме (ресурсы предоставлены).

Оформление кода должно соответствовать выбранному языку программирования: CamelCase (для C#, Java), snake_case (для Python) или стандартам 1С. Идентификаторы должны иметь понятные названия, отражающие их суть. В одной строке допускается не более одной команды.

Подключите созданную базу данных к приложению. Реализуйте функционал, описанный ниже.

**Авторизация**
Реализуйте окно входа в систему. После успешной авторизации интерфейс должен изменяться в зависимости от роли пользователя. Реализуйте интерфейсы для всех ролей (Гость, Клиент, Менеджер, Администратор). После входа в систему должна быть возможность выхода обратно на окно авторизации. В правом верхнем углу интерфейса должно отображаться ФИО текущего пользователя.

**Каталог книг**
Реализуйте вывод каталога книг из базы данных. Для каждой книги должна отображаться следующая информация по образцу:
*   **Обложка книги** (при отсутствии — вывести изображение-заглушку `placeholder.png` из ресурсов)
*   **Название книги | Автор**
*   **Жанр:**
*   **Издательство:**
*   **Год издания:**
*   **Цена:**
*   **Количество на складе:**

Если книга отсутствует на складе, строка с этой книгой должна быть выделена цветом `#ADD8E6` (светло-голубой). Если на книгу действует акция (значение в поле `is_on_sale` = true), цена должна быть перечеркнута и окрашена в красный цвет, а рядом должна быть указана акционная цена (`discount_price`) черным цветом.

Проведите отладку модуля. Приложение должно работать стабильно, без аварийных завершений. Создайте документ Word (.docx) и поместите в него скриншоты, демонстрирующие корректную работу системы (авторизация под разными ролями, отображение каталога).

**Необходимые приложения:**
*   `Прил_3_ОЗ_КОД 09.02.07-2-2026-M2_Стиль.docx`


## Модуль 3. Разработка последовательного пользовательского интерфейса.

Создание форм добавления / редактирования книг. Создание функции удаления книг.**

### **Задание:**

Реализовать последовательный пользовательский интерфейс, обеспечивающий удобное перемещение между существующими окнами (страницами) приложения. На каждом окне должен быть установлен корректный заголовок, соответствующий его назначению. Должна быть предусмотрена возможность возврата назад (например, с помощью кнопки «Назад»), а также переходы между модулями в зависимости от роли пользователя.

Необходимо реализовать обработку исключительных ситуаций. Система должна уведомлять пользователя о допущенных ошибках, запрещённых действиях и неотвратимых операциях. Окна сообщений (ошибка, предупреждение, информационное сообщение) должны содержать соответствующую пиктограмму, корректный заголовок и подробный, полезный текст, объясняющий проблему и порядок её исправления. Разрешается использовать визуальные подсказки при вводе данных.

Необходимо использовать комментарии в коде для пояснения неочевидных фрагментов. Комментарии допускаются только там, где логика действительно требует пояснений.

---

### **Функционал поиска, фильтрации и сортировки в каталоге**

Реализовать возможность поиска, фильтрации и сортировки каталога книг для ролей **Менеджер** и **Администратор**.

**Поиск:**
Менеджер и администратор должны иметь возможность выполнять поиск по каталогу в реальном времени. Поиск выполняется по всем текстовым полям книги, включая:

* название книги,
* автора,
* жанр,
* издательство,
* описание (если предусмотрено).

Поиск должен поддерживать одновременное совпадение по нескольким атрибутам.

**Сортировка:**
Предусмотреть сортировку по количеству книг на складе (по возрастанию и убыванию).

**Фильтрация:**
Реализовать фильтрацию по издательству (поставщику).
Первым пунктом списка должен быть «Все издательства» — при выборе этого варианта фильтр сбрасывается.

Поиск, сортировка и фильтрация должны работать одновременно и обновляться в реальном времени без необходимости нажатия кнопки «Найти» или «Фильтровать». Ранее выбранные параметры сортировки должны сохраняться при применении новых параметров поиска и фильтрации.

---

### **Добавление и редактирование книг**

Добавление и редактирование книг может выполнять только **Администратор**.

Необходимо создать отдельное окно (форму) для добавления и редактирования книги.
Переходы на форму должны быть реализованы следующим образом:

* для редактирования — при выборе конкретной книги в списке,
* для добавления — при нажатии кнопки «Добавить книгу».

**На форме должны быть предусмотрены следующие поля:**

* обложка книги (при отсутствии — вывод изображения-заглушки из ресурсов `placeholder.png`);
* название книги;
* автор;
* жанр (выпадающий список);
* издательство (выпадающий список);
* год издания;
* описание книги;
* цена (включая сотые доли);
* акционная цена (если книга участвует в акции);
* отметка «акция» (`is_on_sale`);
* количество на складе.

**Ограничения:**

* цена и акционная цена не могут быть отрицательными;
* количество на складе не может быть отрицательным;
* год издания должен быть валидным числом.

При открытии формы для редактирования поля должны быть автоматически заполнены актуальными данными из базы.

**ID книги:**

* при добавлении не отображается и рассчитывается автоматически (текущий максимум + 1),
* при редактировании отображается только для чтения.

### **Работа с изображениями**

Администратор должен иметь возможность добавить или заменить обложку книги.

Требования:

* изображение сохраняется в папку приложения;
* в базе хранится путь к изображению;
* изображение автоматически уменьшается до размера **300×200 пикселей**;
* при замене изображения старый файл должен быть удалён из папки.

### **Ограничение на количество открытых форм**

Чтобы избежать одновременного редактирования нескольких книг, необходимо реализовать защиту от открытия более одного окна редактирования/добавления одновременно.


### **Удаление книг**

Администратор должен иметь возможность удалять книги.
**Ограничение:** книга, которая присутствует хотя бы в одном заказе, не может быть удалена. Должно выводиться сообщение-предупреждение с подробным объяснением.

После добавления, редактирования или удаления книга должна быть обновлена в общем списке без перезапуска приложения.
